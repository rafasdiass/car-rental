<form [formGroup]="form" (ngSubmit)="submit()">
    <h3 class="form-title">
        {{ isEditing() ? '‚úèÔ∏è Editar Aluguel' : 'üìÑ Cadastrar Aluguel' }}
    </h3>

    <!-- Sele√ß√£o de Locat√°rio -->
    <div class="mb-3">
        <label for="userId" class="form-label">Locat√°rio</label>
        <select id="userId" formControlName="userId" class="form-control" required>
            <option *ngFor="let user of users()" [value]="user.id">
                {{ user.name }}
            </option>
        </select>
    </div>

    <!-- Sele√ß√£o de Ve√≠culo -->
    <div class="mb-3">
        <label for="vehicleId" class="form-label">Ve√≠culo</label>
        <select id="vehicleId" formControlName="vehicleId" class="form-control" required>
            <option *ngFor="let vehicle of vehicles()" [value]="vehicle.id">
                {{ vehicle.model }} - {{ vehicle.plate }}
            </option>
        </select>
    </div>

    <!-- Data de In√≠cio -->
    <div class="mb-3">
        <label for="startDate" class="form-label">Data In√≠cio</label>
        <input id="startDate" formControlName="startDate" type="date" class="form-control" required />
        <p class="text-muted">
            Formatado:
            {{ form.value.startDate | formatDate }}
        </p>
    </div>

    <!-- Data de Fim -->
    <div class="mb-3">
        <label for="endDate" class="form-label">Data Fim</label>
        <input id="endDate" formControlName="endDate" type="date" class="form-control" required />
        <p class="text-muted">
            Formatado:
            {{ form.value.endDate | formatDate }}
        </p>
    </div>

    <!-- Valor Total -->
    <div class="mb-3">
        <label for="totalPrice" class="form-label">Valor Total</label>
        <input id="totalPrice" formControlName="totalPrice" type="number" class="form-control" required />
        <p class="text-muted">
            Total:
            {{ form.value.totalPrice | formatCurrency }}
        </p>
    </div>

    <!-- Status (somente para edi√ß√£o) -->
    <div class="mb-3" *ngIf="isEditing()">
        <label for="status" class="form-label">Status</label>
        <select id="status" formControlName="status" class="form-control" required>
            <option value="active">Ativo</option>
            <option value="completed">Conclu√≠do</option>
            <option value="canceled">Cancelado</option>
        </select>
    </div>


    <!-- Bot√µes -->
    <div class="d-flex justify-content-end gap-2">
        <app-button [text]="isEditing() ? '‚úèÔ∏è Atualizar' : 'üíæ Salvar'" color="primary"
            (action)="submit()"></app-button>

        <app-button text="‚ùå Cancelar" color="secondary" (action)="cancelForm()"></app-button>
    </div>
</form>